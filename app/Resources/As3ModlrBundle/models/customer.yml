customer:
    entity:
        abstract: true
        polymorphic: true
        persistence:
            key: mongodb
            db: radix
    mixins: [ 'timestampable', 'soft-deleteable' ]
    attributes:
        givenName:
            type: string
        familyName:
            type: string
        middleName:
            type: string
        salutation:
            type: string
        suffix:
            type: string
        gender:
            type: string # Male, Female, Non-Binary, Unknown
            defaultValue: Unknown
        title:
            type: string
    embeds:
        externalIds:
            type: many
            entity: external-identifier
    relationships:
        addresses:
            type: many
            entity: customer-address
            inverse: true
            field: customer
        emails:
            type: many
            entity: customer-email
            inverse: true
            field: customer
        phones:
            type: many
            entity: customer-phone
            inverse: true
            field: customer
        answers:
            type: many
            entity: customer-answer
            inverse: true
            field: customer

# For answers:
# Need to determine ALL answers currently associated with the user??
# Need to see the most current answers for the customer
# Need to store all input submissions (e.g. form or third-party pull integration)
# Eventually need to roll an answer down to the root fields?
# Need to determine how answers will be linked to demographics, to prevent overwrites??
