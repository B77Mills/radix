identity-account:
    entity:
        persistence:
            key: mongodb
            db: radix
    mixins: [ 'identity-attributable', 'timestampable' ]
    attributes:
        primaryEmail:
            type: string
            description: 'The primary email address of this account.'
            calculated:
                class: AppBundle\CalculatedFields
                method: identityAccountPrimaryEmail
    relationships:
        credentials:
            type: many
            inverse: true
            field: account
            entity: account-credential
            description: 'The credentials this account owns. Used for signing in.'
        emails:
            type: many
            inverse: true
            field: account
            entity: identity-account-email
            description: 'The email addresses that this account owns.'

